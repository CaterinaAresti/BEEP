<section class="content-header">
  <h1>
    {{hive.name}}
    <div class="pull-right">
    	<button ng-if="hive.id != undefined" ng-click="deleteHive()" class="btn btn-danger">{{lang.Delete}}</button>
    </div>
  </h1>
  <!-- <ol class="breadcrumb">
    <li><a href="/"><i class="fa fa-home"></i> Home</a></li>
    <li class="active">{{lang.hives}}</li>
  </ol> -->
</section>

<section class="content" >
	
	<!-- Settings -->
	<div class="box">
	    <div class="box-header with-border">
	      <h3 class="box-title">{{lang.settings}}</h3>

	      <div class="box-tools pull-right">
	        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	        </button>
	      </div>
	    </div>

	    <div class="box-body">
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.name}}</dt>
	    		<dd><input ng-model="hive.name" name="name" type="text" placeholder="{{ lang.name }}" class="form-control"></dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.location}}</dt>
	    		<dd>
	    			<select ng-model="hive_loc" ng-options="item as item.name for item in locations track by item.id" type="select" class="form-control"></select>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.type}}</dt>
	    		<dd>
	    			<select ng-model="hive_type" ng-options="item as item.name for item in hivetypes track by item.id" type="select" class="form-control"></select>
	            </dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Hive_honey_layers}}</dt>
	    		<dd>
		            <div rn-stepper ng-model="hive.honey_layers" ng-disabled="hive.honey_layers < 0" min="0" max="5" step="1"></div>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Hive_brood_layers}}</dt>
	    		<dd>
		            <div rn-stepper ng-model="hive.brood_layers" ng-disabled="hive.brood_layers < 0" min="0" max="5" step="1"></div>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Hive_frames}}</dt>
	    		<dd>
	    			<div rn-stepper ng-model="hive.frames" ng-disabled="hive.frames < 1" min="1" max="12" step="1"></div>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal" ng-if="hive.layers.length > 0">
	    		<dt>{{lang.hive}}</dt>
	    		<dd>
	    			<div class="hive left">
		    			<p class="lid" style="width: {{hive.width*(mobile?4:1)}}px;"></p>
		            	<p ng-repeat="(key, layer) in hive.layers | orderBy : '-type' " class="layer" ng-class="layer.type" style="background-color: {{hive.color}}; width: {{hive.width*(mobile?4:1)}}px;">
		            		<span ng-repeat="(key, frame) in layer.frames" ng-class="layer.type">&#9612; </span>
		            	</p>
		            	<p class="bottom" style="width: {{hive.width*(mobile?4:1)}}px;"></p>
	            	</div>
	            </dd>
	        </dl>
			<dl class="dl-horizontal">
	    		<dt>{{lang.Hive_color}}</dt>
	    		<dd>
					<color-picker ng-model="hive.color"></color-picker>
	    		</dd>
	    	</dl>

	      </div>
	    </div>
	</div>

	<!-- Queen -->
	<div class="box">
	    <div class="box-header with-border">
	      <h3 class="box-title">{{lang.queen}}</h3>

	      <div class="box-tools pull-right">
	        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	        </button>
	        <!--button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button-->
	      </div>
	    </div>
	    <!-- /.box-header -->
	    <div class="box-body">
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.queen}} {{lang.name}}</dt>
	    		<dd><input ng-model="hive.queen.name" type="text" placeholder="{{lang.Queen}} {{lang.name}}" class="form-control"></dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Bee_race}}</dt>
	    		<dd>
    				<select ng-model="queen_race" ng-options="item as (item.name+' (Apis ' + item.type + (item.synonyms != '' ? ' - '+item.synonyms : '')+')') for item in beeraces track by item.id" type="select" class="form-control"></select>
	            </dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Birth_date}}</dt>
	    		<dd>
					<div class="input-group date">
					  <div class="input-group-addon">
					    <i class="fa fa-calendar"></i>
					  </div>
					  <input class="form-control pull-right" pick-a-date="date" pick-a-date-options="datePickerOptions" type="text" ng-model="hive.queen.created_at">
					</div>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Age}}</dt>
	    		<dd>{{hive.queen.age}} {{ lang.year }}</dd>
	    	</dl>
			<dl class="dl-horizontal">
	    		<dt>{{lang.Color}}</dt>
	    		<dd>
		            <div>
			            <div class="queen-icon" style="background-color: {{hive.queen.color}};"></div>
			            <color-picker ng-model="hive.queen.color"></color-picker>
			        </div>
	    		</dd>
	    	</dl>
            
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Queen_clipped}}</dt>
	    		<dd>
	    			<switch ng-model="hive.queen.clipped" class="wide" on="{{lang.yes}}" off="{{lang.no}}"></switch>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Queen_fertilized}}</dt>
	    		<dd>
	    			<switch ng-model="hive.queen.fertilized" class="wide" on="{{lang.yes}}" off="{{lang.no}}"></switch>
	    		</dd>
	    	</dl>
	    	
		    

	      </div>
	      <!-- /.table-responsive -->
	    </div>
	    
	</div>

	<div class="alert alert-danger" ng-show="error_msg != null">
        <p>{{ error_msg }}</p>
    </div>

	<button ng-click="saveHive(true)" class="btn btn-primary btn-block">{{lang.save_and_return}}</button>

</section>
