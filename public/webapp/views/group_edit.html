<section class="content-header">
  <h1>
    <a class="icn prev" ng-class="{'mobile':mobile}" ng-click="back()"></a>
    {{ pageTitle || group.name }}
    <div class="pull-right">
    	<div>
	    	<a ng-if="group.id != undefined" ng-click="confirmDeleteGroup()" class="btn btn-danger">{{lang.Delete}}</a>
	    </div>
    </div>
  </h1>
  <!-- <ol class="breadcrumb">
    <li><a href="/"><i class="fa fa-home"></i> Home</a></li>
    <li class="active">{{lang.groups}}</li>
  </ol> -->
</section>

<section class="content" >
	
	<!-- Settings -->
	<div class="box">
	    <div class="box-header with-border">
	      <h3 class="box-title">{{lang.Group}} {{lang.settings.toLowerCase()}}</h3>

	      <div class="box-tools pull-right">
	        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	        </button>
	      </div>
	    </div>

	    <div class="box-body">
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Name}}*</dt>
	    		<dd><input ng-model="group.name" name="name" type="text" placeholder="{{ lang.name }}" class="form-control" required="required"></dd>
	    	</dl>
	    	
	    	<!-- <dl class="dl-horizontal">
	    		<dt>{{lang.Type}}*</dt>
	    		<dd>
	                <select ng-model="group_type" ng-options="item as item.trans[locale] group by item.group[locale] for item in grouptypes | orderBy:transSort track by item.id" type="select" class="form-control" required="required">
	                	<option value=''>{{lang.Select}} {{lang.Hive_type}}...</option>
	                </select>
	            </dd>
	    	</dl> -->
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Description}}</dt>
	    		<dd>
		            <textarea ng-model="group.description" name="description" placeholder="{{ lang.Description }}" class="form-control"></textarea>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Group}} {{lang.color}}</dt>
	    		<dd>
					<color-picker ng-model="group.hex_color"></color-picker>
	    		</dd>
	    	</dl>

	    </div>

	    <div class="overlay" ng-if="loading">
          <i class="fa fa-refresh fa-spin"></i>
        </div>
	</div>

	<!-- Queen -->
	<div class="box">
	    <div class="box-header with-border">
	      <h3 class="box-title">{{ lang.Select }} {{lang.hives.toLowerCase()}}</h3>

	      <div class="box-tools pull-right">
	        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	        </button>
	        <!--button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button-->
	      </div>
	    </div>
	    <!-- /.box-header -->
	    <div class="box-body">
	    	<dl class="dl-horizontal">
	    		<dt>{{lang.Hives}}</dt>
	    		<dd>
	    			<p>{{ lang.Select }} {{ lang.hives.toLowerCase() }} {{ lang.to_share }}</p>
	    		</dd>
	    	</dl>
	    	<dl class="dl-horizontal" ng-repeat="(i, loc) in locations track by i">
	    		<dt>{{loc.name}}</dt>
	    		<dd>
	    			<div class="hives-container selection">
		    			<div hive="hive" selecthive="selectGroupHive" selectedids="group.hives_selected" editableids=group.hives_editable ng-repeat="(j, hive) in loc.hives track by j" beep-hive-selector></div>
		    		</div>
	    		</dd>
	    	</dl>
	    	
	    </div>
	     
	    <div class="overlay" ng-if="loading">
          <i class="fa fa-refresh fa-spin"></i>
        </div>
	    
	</div>

	<div class="alert alert-danger" ng-show="error_msg != null">
        <p>{{ error_msg }}</p>
    </div>

	<button ng-click="saveGroup(true)" class="btn btn-primary btn-block">{{lang.save_and_return}}</button>

</section>
